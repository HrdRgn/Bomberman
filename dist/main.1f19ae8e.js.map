{"version":3,"sources":["main.js"],"names":["monsterPosition","workField","playerPosition","direction","lastDirection","bomb","freeField","monster","block","player","fire","box","gameInterval","fieldY","fieldX","enemies","place","startButton","document","getElementById","validate","name","info","min","max","alert","addEventListener","e","Math","round","Number","value","gameStart","i","Array","getRandom","j","some","item","createField","innerText","style","visibility","setInterval","runningGame","map","array","createElement","innerHTML","join","appendChild","updateField","app","childNodes","indexOf","replaceChild","clearField","firstChild","remove","random","updatePlayerPosition","monsterThinks","monsterMove","bombSequence","clearInterval","setTimeout","nextStepY","nextStepX","it","a","bombExplodes","y","x","bombZone","index","indexCheck","find","keyName","key"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["\"use strict\";\n\nconst monsterPosition = [];\nconst workField = [];\nconst playerPosition = [];\nconst direction = [0, 0];\nconst lastDirection = [0, 1];\nconst bomb = \"B&#8200;&#8200;\";\nconst freeField = \"&#8195;\";\nconst monster = \"M&#8202;\";\nconst block = \"&#9609;\";\nconst player = \"P&#8196;&#8202;\";\nconst fire = \"F&#8202;&#8197;&#8202;\";\nconst box = \"&#9618;&#8198;&#8202;\";\nvar gameInterval;\nvar fieldY;\nvar fieldX;\nvar enemies;\nvar place;\n\nconst startButton = document.getElementById(\"startButton\");\n\nfunction validate(name, info, min, max) {\n  if (info >= min && info <= max) {\n    return true;\n  } else {\n    alert(`Please input correct ${name} (between ${min} and ${max})`);\n    return false;\n  }\n}\n\nstartButton.addEventListener(\"click\", (e) => {\n  fieldX = Math.round(Number(document.getElementById(\"fieldX\").value)) || 30;\n  fieldY = Math.round(Number(document.getElementById(\"fieldY\").value)) || 20;\n  enemies = Number(document.getElementById(\"enemies\").value) || 10;\n  if (\n    validate(\"fieldX\", fieldX, 10, 30) &&\n    validate(\"fieldY\", fieldY, 10, 30) &&\n    validate(\"enemies\", enemies, 1, 15)\n  ) {\n    gameStart();\n  }\n});\n\nfunction gameStart() {\n  for (let i = 0; i < enemies; i++) {\n    monsterPosition[i] = new Array(3);\n    monsterPosition[i][0] = getRandom(1, fieldY);\n    monsterPosition[i][1] = getRandom(1, fieldX);\n    monsterPosition[i][2] = \"Active\";\n  }\n\n  playerPosition[0] = Number(getRandom(1, fieldY));\n  playerPosition[1] = Number(getRandom(1, fieldX));\n  playerPosition[2] = \"Alive\";\n\n  for (let i = 0; i < fieldY + 2; i++) {\n    workField[i] = new Array(fieldX + 2);\n    for (let j = 0; j < fieldX + 2; j++) {\n      if (i === 0 || j === 0 || i === fieldY + 1 || j === fieldX + 1) {\n        workField[i][j] = block;\n      } else {\n        if (monsterPosition.some((item) => item[0] === i && item[1] === j)) {\n          workField[i][j] = monster;\n        } else if (getRandom(0, 0.565)) {\n          workField[i][j] = block;\n        } else if (getRandom(1, 1.4)) {\n          workField[i][j] = box;\n        } else {\n          workField[i][j] = freeField;\n        }\n      }\n    }\n  }\n\n  workField[playerPosition[0]][playerPosition[1]] = player;\n  createField();\n  document.getElementById(\"status\").innerText = playerPosition[2];\n  document.getElementById(\"startButton\").style.visibility = \"hidden\";\n  gameInterval = setInterval(() => runningGame(), 500);\n}\n\nfunction createField() {\n  workField.map((item) => {\n    const array = document.createElement(\"div\");\n    array.innerHTML = item.join(\"\");\n    document.getElementById(\"app\").appendChild(array);\n  });\n}\n\nfunction updateField() {\n  workField.map((item) => {\n    const array = document.createElement(\"div\");\n    array.innerHTML = item.join(\"\");\n    const app = document.getElementById(\"app\").childNodes[\n      workField.indexOf(item)\n    ];\n    document.getElementById(\"app\").replaceChild(array, app);\n  });\n}\n\nfunction clearField() {\n  workField.map(() => {\n    document.getElementById(\"app\").firstChild.remove();\n  });\n}\n\nfunction getRandom(min, max) {\n  return Math.round(Math.random() * (max - min) + min);\n}\n\nfunction runningGame() {\n  updatePlayerPosition();\n\n  monsterThinks();\n\n  monsterMove();\n\n  bombSequence();\n\n  document.getElementById(\"status\").innerText = playerPosition[2];\n\n  updateField();\n\n  if (!monsterPosition.some((item) => item[2] !== \"Dead\")) {\n    document.getElementById(\"status\").innerText = \"Victory\";\n  }\n  if (playerPosition[2] === \"Killed\") {\n    document.getElementById(\"status\").innerText = \"Defeat\";\n  }\n  if (\n    document.getElementById(\"status\").innerText === \"Defeat\" ||\n    document.getElementById(\"status\").innerText === \"Victory\"\n  ) {\n    clearInterval(gameInterval);\n    setTimeout(() => {\n      clearField();\n      document.getElementById(\"startButton\").style.visibility = \"visible\";\n    }, 2500);\n  }\n}\n\nfunction monsterThinks() {\n  monsterPosition.map((item) => {\n    if (item[2] !== \"Dead\") {\n      let nextStepY = item[0] + getRandom(-1, 1);\n      let nextStepX = item[1] + getRandom(-1.49, 1.49);\n      if (workField[item[0]][item[1]] === monster) {\n        workField[item[0]][item[1]] = freeField;\n      }\n      if (\n        nextStepY > 0 &&\n        nextStepY < fieldY &&\n        !monsterPosition.some(\n          (it) => it[0] === nextStepY && it[1] === item[1]\n        ) &&\n        workField[nextStepY][item[1]] !== block &&\n        workField[nextStepY][item[1]] !== box &&\n        workField[nextStepY][item[1]] !== bomb\n      ) {\n        item[0] = nextStepY;\n      } else if (\n        nextStepX > 0 &&\n        nextStepX < fieldX &&\n        !monsterPosition.some((it) => it[1] === nextStepX) &&\n        workField[item[0]][nextStepX] !== block &&\n        workField[item[0]][nextStepX] !== box &&\n        workField[item[0]][nextStepX] !== bomb\n      ) {\n        item[1] = nextStepX;\n      }\n    }\n  });\n}\nfunction monsterMove() {\n  monsterPosition.map((item) => {\n    let a = workField[item[0]][item[1]];\n    if (a === fire) {\n      item[2] = \"Dead\";\n    } else if (item[2] !== \"Dead\") {\n      if (a === player) {\n        playerPosition[2] = \"Killed\";\n        workField[item[0]][item[1]] = monster;\n      } else {\n        workField[item[0]][item[1]] = monster;\n      }\n    }\n  });\n}\n\nfunction updatePlayerPosition() {\n  if (playerPosition[2] === \"Alive\") {\n    let a =\n      workField[playerPosition[0] + direction[0]][\n        playerPosition[1] + direction[1]\n      ];\n    if (a !== block && a !== bomb && a !== box) {\n      if (a === monster || a === fire) {\n        playerPosition[2] = \"Killed\";\n      }\n      if (direction[0] !== 0 || direction[1] !== 0) {\n        workField[playerPosition[0]][playerPosition[1]] = freeField;\n        playerPosition[0] += direction[0];\n        playerPosition[1] += direction[1];\n        workField[playerPosition[0]][playerPosition[1]] = player;\n        lastDirection[0] = direction[0];\n        lastDirection[1] = direction[1];\n      }\n\n      direction[0] = 0;\n      direction[1] = 0;\n    }\n  }\n}\n\nfunction bombSequence() {\n  if (place) {\n    if (\n      workField[playerPosition[0] + lastDirection[0]][\n        playerPosition[1] + lastDirection[1]\n      ] !== block &&\n      workField[playerPosition[0] + lastDirection[0]][\n        playerPosition[1] + lastDirection[1]\n      ] !== box\n    ) {\n      workField[playerPosition[0] + lastDirection[0]][\n        playerPosition[1] + lastDirection[1]\n      ] = bomb;\n      bombExplodes(\n        playerPosition[0] + lastDirection[0],\n        playerPosition[1] + lastDirection[1]\n      );\n    }\n  }\n  place = false;\n}\n\nfunction bombExplodes(y, x) {\n  setTimeout(() => {\n    const bombZone = [\n      [y + 1, x],\n      [y + 2, x],\n      [y + 3, x],\n      [y - 1, x],\n      [y - 2, x],\n      [y - 3, x],\n      [y, x + 1],\n      [y, x + 2],\n      [y, x + 3],\n      [y, x - 1],\n      [y, x - 2],\n      [y, x - 3],\n    ];\n\n    bombZone.map((item, index, array) => {\n      let a = array[index - 1];\n      let indexCheck = [0, 3, 6, 9].some((it) => it === index);\n\n      if (\n        item[0] > 0 &&\n        item[0] < fieldY + 1 &&\n        item[1] > 0 &&\n        item[1] < fieldX + 1\n      ) {\n        if (\n          (indexCheck && workField[item[0]][item[1]] !== block) ||\n          (!indexCheck &&\n            workField[a[0]][a[1]] === fire &&\n            workField[item[0]][item[1]] !== block)\n        ) {\n          workField[item[0]][item[1]] = fire;\n          if (workField[item[0]][item[1]] === player) {\n            playerPosition[2] = \"Killed\";\n            workField[item[0]][item[1]] = fire;\n          }\n          if (workField[item[0]][item[1]] === monster) {\n            monsterPosition.find(\n              (it) => it[0] === item[0] && it[1] === item[1]\n            )[2] = \"Dead\";\n            workField[item[0]][item[1]] = fire;\n          }\n          setTimeout(() => {\n            if (\n              workField[item[0]][item[1]] !== bomb &&\n              workField[item[0]][item[1]] !== block\n            ) {\n              workField[item[0]][item[1]] = freeField;\n            }\n          }, 1500);\n        }\n      }\n    });\n    workField[y][x] = fire;\n    setTimeout(() => {\n      workField[y][x] = freeField;\n    }, 1500);\n  }, 3000);\n}\n\ndocument.addEventListener(\"keydown\", (e) => {\n  const keyName = e.key;\n\n  switch (keyName) {\n    case \"w\": {\n      direction[0] = -1;\n      direction[1] = 0;\n      break;\n    }\n    case \"a\": {\n      direction[0] = 0;\n      direction[1] = -1;\n      break;\n    }\n    case \"s\": {\n      direction[0] = 1;\n      direction[1] = 0;\n      break;\n    }\n    case \"d\": {\n      direction[0] = 0;\n      direction[1] = 1;\n      break;\n    }\n    case \" \": {\n      direction[0] = 0;\n      direction[1] = 0;\n      place = true;\n      break;\n    }\n  }\n});\n"]}